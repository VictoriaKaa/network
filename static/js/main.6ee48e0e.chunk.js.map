{"version":3,"sources":["components/Profile/ProfileInfo/ProfileStatusWithHooks.js","components/Settings/ProfileDataForm.jsx","components/Navbar/Friend/Friend.module.css","components/common/FormsControls/FormsControls.js","api/api.js","redux/dialogs-reducer.js","redux/profile-reducer.js","assets/images/Eclipse.svg","components/Settings/Settings.module.css","components/Users/Users.module.css","components/Navbar/Navbar.module.css","serviceWorker.js","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.js","components/Navbar/Navbar.jsx","components/Settings/Settings.jsx","components/common/Paginator/Paginator.js","components/Users/User.js","components/Users/Users.js","utils/object-helpers.js","redux/users-reducer.js","redux/users-selectors.js","components/Users/UsersContainer.js","components/Login/Login.js","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspence.js","components/Settings/SettingsContainer.js","App.js","index.js","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.js","components/common/Preloader/Preloader.js","utils/validator/validators.js","assets/images/no_avatar.png","components/common/FormsControls/FormControls.module.css","components/Header/Header.module.css","components/common/Paginator/Paginator.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","hoc/withAuthRedirect.js","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","hoc/withProfile.js","components/Login/Login.module.css"],"names":["ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","onBlur","updateStatus","autoFocus","ProfileDataForm","onSubmit","this","handleSubmit","className","classes","info","infoLine","сreateField","Input","type","Textarea","Object","keys","profile","contacts","map","key","error","saveBtn","React","Component","ProfileDataFormReduxForm","reduxForm","form","enableReinitialize","module","exports","FormControl","input","meta","touched","children","hasError","formControl","restProps","child","placeholder","name","validators","component","text","field","validate","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","page","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","getStatus","put","savePhoto","photoFile","formData","FormData","append","saveProfile","initialState","dialogsData","id","messages","message","user","addMessageActionCreator","newMessageBody","dialogsReducer","state","action","postData","date","addPostActionCreator","newPost","getUserProfile","dispatch","a","resultCode","photo","photos","getState","auth","stopSubmit","_error","profileReducer","stateCopy","push","newPostText","filter","p","postId","Boolean","window","location","hostname","match","Header","header","loginBlock","isAuth","onClick","loginBtn","to","isFetching","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","HeaderContainer","connect","Navbar","nav","item","activeClassName","active","Settings","isOwner","settingBlock","profileBLock","profileInner","src","large","userPhoto","fileInputBlock","fileInput","target","files","length","for","initialValues","Preloader","SettingsProfile","Paginator","currentPage","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","btn","cn","pageNumber","selectedPage","event","User","followingInProgress","top","small","bottom","followed","disabled","some","btnFollow","Users","users","usersPage","u","updateObjectInArray","items","itemId","objPropName","newObjProps","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","log","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersAPIComponent","requestUsers","compose","bind","totalCount","LoginReduxForm","required","formSummaryError","styles","initialized","globalError","appReducer","friendsData","sidebarReducer","reducers","combineReducers","profilePage","dialogsPage","sidebar","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspence","Suspense","fallback","withProfile","authUserId","withRouter","withAuthRedirect","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandledErrors","reason","promise","alert","initializeApp","addEventListener","removeEventListener","path","render","UsersContainer","SettingsContainer","from","AppContainer","JSApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","Post","itemInner","maxLength10","maxLengthCreator","MyPosts","memo","postsElements","postsBlock","AddPostFormRedux","values","Date","toLocaleDateString","addPost","posts","profileForm","Field","addBtn","ProfileData","fullName","lookingForAJob","aboutMe","lookingForAJobDescription","contactTitle","contactValue","Contact","ProfileInfo","statusDescription","MyPostsContainer","Profile","style","backgroundColor","preloader","maxLength","mapStatetoPropsRedirect","RedirectComponent","WrappedComponent","isSetting","params","history","refreshProfile","prevProps","prevState","snapshot"],"mappings":"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","file":"static/js/main.6ee48e0e.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect( () => {\r\n        setStatus(props.status);\r\n    }, [props.status] );\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n        return (\r\n            <div>\r\n                {!editMode &&\r\n                <div>\r\n                    <b>Status: </b>\r\n                    <div onDoubleClick={activateEditMode}> {props.status || \"-----\"} </div>\r\n                </div>\r\n                }\r\n                {editMode &&\r\n                    <div>\r\n                        <input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true}\r\n                        value={status} />\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport { сreateField, Input, Textarea } from '../common/FormsControls/FormsControls';\r\nimport { reduxForm, change } from 'redux-form';\r\nimport classes from './Settings.module.css'\r\nimport { render } from 'react-dom';\r\n\r\nclass ProfileDataForm extends React.Component {\r\n    //= ({handleSubmit, profile, error}) => {\r\n    render() {\r\n        return <form onSubmit={this.props.handleSubmit}>\r\n            <div className={classes.info}>\r\n                <div className={classes.infoLine}> <span>Full name: </span>{сreateField(\"Full Name\", \"fullName\", [], Input)}</div>\r\n                <div className={classes.infoLine}> <span>Looking for a job: </span>{сreateField(\"\", \"lookingForAJob\", [], Input, { type: \"checkbox\" })} </div>\r\n                <div className={classes.infoLine}> <span>About me: </span>{сreateField(\"About me\", \"aboutMe\", [], Textarea)} </div>\r\n                <div className={classes.infoLine}> <span>My professional skills: </span>{сreateField(\"My professional skills\", \"lookingForAJobDescription\", [], Textarea)} </div>\r\n                <div>\r\n                    Contacts {Object.keys(this.props.profile.contacts).map(key => {\r\n                        return <div className={classes.infoLine} key={key}>\r\n                            <span>{key}: </span>{сreateField(key, \"contacts.\" + key, [], Input)}\r\n                        </div>\r\n                    })}\r\n                </div>\r\n                {this.props.error && <div className={classes.error}>\r\n                    {this.props.error}\r\n                </div>\r\n                }\r\n                <div>\r\n                    <button className={classes.saveBtn}>save</button>\r\n                </div>\r\n            </div>\r\n\r\n        </form>\r\n    }\r\n\r\n}\r\n// }\r\n\r\nconst ProfileDataFormReduxForm = reduxForm({ form: 'edit-profile',\r\nenableReinitialize : true })(ProfileDataForm);\r\n\r\nexport default ProfileDataFormReduxForm;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__V7iSC\",\"avatar\":\"Friend_avatar__3BcdK\"};","import React from 'react';\r\nimport classes from './FormControls.module.css';\r\nimport { Field } from 'redux-form';\r\n\r\nconst FormControl = ({ input, meta: { touched, error }, children }) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={classes.formControl + \" \" + (hasError ? classes.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const сreateField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div className={classes.field}>\r\n        <Field placeholder={placeholder} name={name}\r\n            validate={validators} component={component} {...props} />\r\n        <div>{text}</div>\r\n    </div>\r\n)","import * as axios from \"axios\";\r\n\r\nconst baseUrl = 'https://social-network.samuraijs.com/api/1.0/';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"67c3494a-de5b-47b9-a2cb-6d5e28b4ee15\"\r\n    }\r\n\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(page = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${page}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/` + userId)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please profileAPI object');\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return  instance.post(`auth/login`, { email, password, rememberMe, captcha })\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/`+userId)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status }) // отправляем json объект\r\n    },\r\n    savePhoto(photoFile) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    },\r\n    saveProfile(profile) {\r\n        debugger;\r\n        return instance.put(`profile`, profile);\r\n    }\r\n}\r\n","let ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nlet user1 = \"data:image/jpeg;base64,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\";\r\nlet user2 = \"data:image/jpeg;base64,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\";\r\n\r\nlet initialState = {\r\n    dialogsData: [\r\n        { id: 1, name: 'Andrey' },\r\n        { id: 2, name: 'Dimas' },\r\n        { id: 3, name: 'Vika' },\r\n        { id: 4, name: 'Petya' },\r\n        { id: 5, name: 'Pavel' },\r\n        { id: 6, name: 'Valera' }\r\n    ],\r\n    messages: [\r\n        { id: 1, message: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minima maxime quam architecto quo inventore harum ex magni, dicta impedit. Lorem ipsum.', user: \"user1\" },\r\n        { id: 2, message: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minima maxime quam architecto quo inventore harum ex magni, dicta impedit. Lorem ipsum.', user: \"user2\" },\r\n        { id: 3, message: 'Hi3', user: \"user1\" },\r\n        { id: 4, message: 'H2i', user: \"user1\" },\r\n        { id: 5, message: 'Hi', user: \"user2\" },\r\n        { id: 6, message: 'Hi11', user: \"user1\" }\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            {\r\n                return {\r\n                    ...state,\r\n                    messages: [...state.messages, {     id: 5,\r\n                        message: action.newMessageBody,\r\n                        user: 1\r\n                    }]\r\n                }\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addMessageActionCreator = (newMessageBody) => {\r\n    return {\r\n        type: ADD_MESSAGE,\r\n        newMessageBody\r\n    }\r\n}\r\n\r\n\r\nexport default dialogsReducer;","import { usersAPI } from \"../api/api\";\r\nimport { profileAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\n\r\nlet ADD_POST = 'ADD-POST';\r\nlet SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nlet SET_STATUS = 'SET-STATUS';\r\nlet DELETE_POST = 'DELETE-POST';\r\nlet SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\nlet initialState = {\r\n    postData: [\r\n        { id: 1, message: \"It's my first post\", date: \"30.10.2019\" },\r\n        { id: 2, message: \"How are you\", date: \"10.11.2019\" }\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPost,\r\n                date: action.date\r\n            };\r\n            let stateCopy = { ...state };\r\n            stateCopy.postData = [...state.postData];\r\n            stateCopy.postData.push(newPost);\r\n            stateCopy.newPostText = '';\r\n            return stateCopy;\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return { ...state, profile: action.profile };\r\n        }\r\n        case SET_STATUS: {\r\n            return { ...state, status: action.status };\r\n        }\r\n        case DELETE_POST: {\r\n            return { ...state, postData: state.postData.filter(p => p.id != action.postId) };\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return { ...state, profile: { ...state.profile, photos: action.photos } }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const addPostActionCreator = (newPost, date) => ({ type: ADD_POST, newPost, date })\r\n\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\n\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\n\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId })\r\n\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\n\r\nexport const getUserProfile = (userId) => {\r\n    debugger;\r\n    return async (dispatch) => {\r\n        let response = await usersAPI.getProfile(userId);\r\n        dispatch(setUserProfile(response.data));\r\n    }\r\n}\r\n\r\nexport const getStatus = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.getStatus(userId);\r\n        dispatch(setStatus(response.data));\r\n    }\r\n}\r\n\r\nexport const updateStatus = (status) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            let response = await profileAPI.updateStatus(status);\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setStatus(status));\r\n            }\r\n        }\r\n        catch(error) {\r\n            //\r\n        }\r\n    }\r\n}\r\n\r\nexport const savePhoto = (photo) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.savePhoto(photo);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(savePhotoSuccess(response.data.data.photos));\r\n        }\r\n    }\r\n}\r\nexport const saveProfile = (profile) => {\r\n    return async (dispatch, getState) => {\r\n        const userId = getState().auth.userId;\r\n        let response = await profileAPI.saveProfile(profile);\r\n        debugger;\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getUserProfile(userId));\r\n        }\r\n        else {\r\n            dispatch(stopSubmit('edit-profile', { _error: response.data.messages[0] }));\r\n            // return Promise.reject(response.data.messages[0]);\r\n        }\r\n    }\r\n}\r\nexport default profileReducer;","module.exports = __webpack_public_path__ + \"static/media/Eclipse.1ac24fc2.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settingBlock\":\"Settings_settingBlock__1wwWJ\",\"profileBLock\":\"Settings_profileBLock__3ew2q\",\"profileInner\":\"Settings_profileInner__NdIxx\",\"fileInputBlock\":\"Settings_fileInputBlock__mSA5t\",\"fileInput\":\"Settings_fileInput__-HtaQ\",\"info\":\"Settings_info__6dntl\",\"infoLine\":\"Settings_infoLine__3OP5K\",\"saveBtn\":\"Settings_saveBtn__1PJdA\",\"error\":\"Settings_error__nIkSP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPage\":\"Users_usersPage__3SrC5\",\"user\":\"Users_user__1Llpl\",\"userPhoto\":\"Users_userPhoto__1XFJ2\",\"top\":\"Users_top__ux4yg\",\"bottom\":\"Users_bottom__2eDi7\",\"info\":\"Users_info__3_NQk\",\"name\":\"Users_name__1QyRY\",\"status\":\"Users_status__1C3k9\",\"btnFollow\":\"Users_btnFollow__3Va1w\",\"disabled\":\"Users_disabled__3xUgK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3RHKZ\",\"item\":\"Navbar_item__2zAnL\",\"sidebar\":\"Navbar_sidebar__1R1FF\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport classes from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={classes.header}>\r\n          <div className={classes.loginBlock}>\r\n            { props.isAuth\r\n            ? <div className={classes.name}> {props.login}  \r\n            <button onClick={props.logout} className={classes.loginBtn}> Log out</button>\r\n            </div> \r\n              : <NavLink to={'/login'}  className={classes.loginBtn}>Login</NavLink> }\r\n          </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import { authAPI, securityAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nlet SET_USER_DATA = 'my-app/auth/SET-USER-DATA';\r\nlet GET_CAPTCHA_URL_SUCCESS = 'my-app/auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    isFetching: true,\r\n    captchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (email, userId, login, isAuth) => ({ type: SET_USER_DATA, payload: { email, userId, login, isAuth } })\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) =>\r\n    ({ type: GET_CAPTCHA_URL_SUCCESS, payload: { captchaUrl } })\r\n\r\nexport const getAuthUserData = () => {\r\n    return async (dispatch) => { // делает асинхронную работу и внутри куча диспатчей        \r\n        let response = await authAPI.me();\r\n        if (response.data.resultCode === 0) {\r\n            let { email, id, login } = response.data.data;\r\n            dispatch(setAuthUserData(email, id, login, true));\r\n        }\r\n    }\r\n}\r\nexport const login = (email, password, rememberMe, captcha) => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.login(email, password, rememberMe, captcha);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getAuthUserData());\r\n        }\r\n        else {\r\n            if (response.data.resultCode === 10) {\r\n                dispatch(getCaptchaUrl());\r\n            }\r\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n            dispatch(stopSubmit(\"login\", { _error: message }));\r\n        }\r\n    }\r\n}\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    debugger;\r\n    let response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n}\r\nexport const logout = () => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.logout();\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false));\r\n        }\r\n    }\r\n}\r\n//export const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching  })\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport {logout} from '../../redux/auth-reducer';\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Friend from './Friend/Friend';\r\nimport StoreContext from '../../store-context';\r\n\r\nconst Navbar = (props) => {\r\n\r\n  return (\r\n      // (store) => {\r\n      //   let state = store.getState().sidebar;\r\n      //   let friendsElements = state.friendsData.map((el) => (<Friend name={el.name} id={el.id} />))\r\n\r\n        <nav className={classes.nav}>\r\n          <div className={classes.item}>\r\n            <NavLink to='/profile' activeClassName={classes.active}>Profile</NavLink>\r\n          </div>\r\n          <div className={`${classes.item} ${classes.active}`}>\r\n            <NavLink to='/dialogs' activeClassName={classes.active}>Messages</NavLink>\r\n          </div>\r\n          <div className={classes.item}>\r\n            <NavLink to='/users' activeClassName={classes.active}>Users</NavLink>\r\n          </div>\r\n          <div className={classes.item}>\r\n            <NavLink to='/settings' activeClassName={classes.active}>Settings</NavLink>\r\n          </div>\r\n          {/* <div className={classes.item}>\r\n            <NavLink to='/news' activeClassName={classes.active}>News</NavLink>\r\n          </div>\r\n          <div className={classes.item}>\r\n            <NavLink to='/music' activeClassName={classes.active}>Music</NavLink>\r\n          </div>\r\n          \r\n          <div className={classes.sidebar}>\r\n            <div>Friends</div>\r\n             {friendsElements}\r\n          </div> */}\r\n        </nav>\r\n\r\n  );\r\n}\r\n\r\nexport default Navbar;","import React, { useState } from 'react';\r\nimport classes from './Settings.module.css'\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport userPhoto from '../../assets/images/no_avatar.png';\r\nimport ProfileStatusWithHooks from '../Profile/ProfileInfo/ProfileStatusWithHooks';\r\nimport ProfileDataForm from './ProfileDataForm';\r\n\r\nconst SettingsProfile = (props) => {\r\n    return (\r\n        <div>\r\n            <Settings isOwner={props.isOwner} profile={props.profile} status={props.status}\r\n                updateStatus={props.updateStatus}\r\n                savePhoto={props.savePhoto}\r\n                saveProfile={props.saveProfile} />\r\n        </div>\r\n    );\r\n}\r\n\r\nconst Settings = ({ profile, status, updateStatus, isOwner, savePhoto, saveProfile }) => {\r\n    const onPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0]);\r\n        }\r\n    }\r\n    const onSubmit = (formData) => {\r\n        saveProfile(formData);\r\n    }\r\n    if (!profile) {\r\n        return <Preloader />\r\n    }\r\n    debugger;\r\n    return (\r\n        <div>\r\n            {isOwner && <div className={classes.settingBlock}>\r\n                <div className={classes.profileBLock}>\r\n                    <div className={classes.profileInner}>\r\n                        <img src={profile.photos.large || userPhoto} />\r\n                        <div className={classes.fileInputBlock}>\r\n                            <input className={classes.fileInput} type={\"file\"} id=\"avatar\" onChange={onPhotoSelected} />\r\n                            <label for=\"avatar\">Upload file</label>\r\n                        </div>\r\n                    </div>\r\n                    <ProfileDataForm initialValues={profile} profile={profile} onSubmit={onSubmit} />\r\n                </div>\r\n            </div>}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default SettingsProfile;","import React, {useState} from 'react';\r\nimport classes from './Paginator.module.css';\r\nimport cn from 'classnames';\r\n\r\nlet Paginator = ({currentPage, totalItemsCount, pageSize, onPageChanged, portionSize = 10}) => {\r\n\r\n    debugger;\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n    \r\n    return <div className={classes.paginator}>\r\n        { portionNumber > 1 &&\r\n            <button onClick={() => { setPortionNumber(portionNumber - 1)}} className={classes.btn} >PREV</button>}\r\n        \r\n            {pages\r\n            .filter(p => p >= leftPortionPageNumber && p<= rightPortionPageNumber)\r\n            .map(p => {\r\n                return <div className={cn(classes.pageNumber, {[classes.selectedPage]: currentPage === p})}\r\n                    onClick={(event) => onPageChanged(p)}>{p}</div>\r\n            })}\r\n            { portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1)}} className={classes.btn} >NEXT</button>}\r\n        \r\n    </div>\r\n\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport classes from './Users.module.css';\r\nimport userPhoto from '../../../src/assets/images/no_avatar.png';\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nlet User = ({ user, followingInProgress, follow, unfollow }) => {\r\n    debugger;\r\n    return (\r\n        <div className={classes.user}>\r\n            <div className={classes.top}>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <img src={user.photos.small != null ? user.photos.small : userPhoto} className={classes.userPhoto} />\r\n                </NavLink>\r\n            </div>\r\n            <div className={classes.bottom}>\r\n                <div className={classes.info}>\r\n                    <div className={classes.name}>{user.name}</div>\r\n                    <div className={classes.status}>{user.status}</div>\r\n                </div>\r\n                <div className={classes.follow}>\r\n                    {user.followed ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                        onClick={() => { unfollow(user.id); }} className={classes.btnFollow}>Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            follow(user.id);}}  className={classes.btnFollow}>Follow</button>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\nimport classes from './Users.module.css';\r\n\r\nlet Users = ({totalItemsCount, pageSize, currentPage, onPageChanged, users, ...props}) => {\r\ndebugger;\r\n    return (\r\n        <div>\r\n            <Paginator currentPage={currentPage} totalItemsCount={totalItemsCount}\r\n                pageSize={pageSize} onPageChanged={onPageChanged} />\r\n            <div className={classes.usersPage}>\r\n                {\r\n                    users.map(u => <User user={u} key={u.id}\r\n                        followingInProgress={props.followingInProgress}\r\n                        follow={props.follow} unfollow={props.unfollow} />\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return { ...u, ...newObjProps};\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from '../api/api';\r\nimport { updateObjectInArray } from '../utils/object-helpers';\r\n\r\nlet FOLLOW = 'FOLLOW';\r\nlet UNFOLLOW = 'UNFOLLOW';\r\nlet SET_USERS = 'SET-USERS';\r\nlet SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nlet SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\r\nlet TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nlet TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalItemsCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            {\r\n                console.log(\"FOLLOW\");\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true}),\r\n            //    users: state.users.map(u => {\r\n            //         if (u.id === action.userId) {\r\n            //             return { ...u, followed: true };\r\n            //         }\r\n            //         return u; \r\n            //     })\r\n            }\r\n        }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.page\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalItemsCount: action.totalItemsCount\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId }) // action creators\r\n\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\n\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\n\r\nexport const setCurrentPage = (page) => ({ type: SET_CURRENT_PAGE, page })\r\n\r\nexport const setTotalUsersCount = (totalItemsCount) => ({ type: SET_TOTAL_USERS_COUNT, totalItemsCount })\r\n\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\n\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\n\r\n//thunk creators\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => { // делает асинхронную работу и внутри куча диспатчей  \r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n        let response = await apiMethod(userId);\r\n        if (response.data.resultCode == 0) {\r\n            dispatch(actionCreator(userId));\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\n\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => { // делает асинхронную работу и внутри куча диспатчей  \r\n        let apiMethod = usersAPI.follow.bind(usersAPI);\r\n        let actionCreator = followSuccess;\r\n        followUnfollowFlow( dispatch, userId, apiMethod, actionCreator); \r\n        dispatch(toggleFollowingProgress(false, userId));\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => { // делает асинхронную работу и внутри куча диспатчей  \r\n        followUnfollowFlow( dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess); \r\n        dispatch(toggleFollowingProgress(false, userId));\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import { createSelector } from \"reselect\";\r\n\r\n// export const getUsersSelector = (state) => {\r\n//     return state.usersPage.users;\r\n// }\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n//export const getUsersSuperSelector = createSelector(getUsers, isFetching (users, isFetching) => {\r\n// export const getUsers = createSelector(getUsersSelector, (users) => {\r\n//     return users.filter(u => true);\r\n// })\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalItemsCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}","import React from 'react';\r\nimport Users from './Users';\r\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers } from '../../redux/users-reducer';\r\nimport { connect } from 'react-redux';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/users-selectors';\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n    // constructor(props) {\r\n    //     super(props);\r\n\r\n    // }\r\n    // делегирование к реакт компонент конструктора можно не писать\r\n\r\n    componentDidMount() {\r\n        console.log(\"users\");\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n        /*\r\n        this.props.toggleIsFetching(true);\r\n\r\n        usersAPI.getUsers(this.props.pageNumber, this.props.pageSize).then(response => {\r\n            this.props.toggleIsFetching(false);\r\n            this.props.setUsers(response.items);\r\n            this.props.setTotalUsersCount(response.totalCount)\r\n        });\r\n        */\r\n    }\r\n\r\n    onPageChanged = (currentPage) => {\r\n        console.log(\"users update\");\r\n\r\n        const {pageSize} = this.props;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n\r\n        /*\r\n        this.props.setCurrentPage(pageNumber);\r\n        this.props.toggleIsFetching(true);\r\n        \r\n        usersAPI.getUsers(pageNumber, this.props.pageSize).then(response => {\r\n            this.props.setUsers(response.items);\r\n            this.props.toggleIsFetching(false);\r\n        });\r\n        */\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n        { this.props.isFetching ? <Preloader /> : null}\r\n        <Users totalItemsCount={this.props.totalItemsCount}\r\n                      pageSize={this.props.pageSize}\r\n                      currentPage={this.props.currentPage}\r\n                      onPageChanged={this.onPageChanged}\r\n                      users={this.props.users} \r\n                      follow={this.props.follow} \r\n                      unfollow={this.props.unfollow}        \r\n                      isFetching={this.props.isFetching}\r\n                      followingInProgress={this.props.followingInProgress}\r\n                      toggleFollowingProgress = {this.props.toggleFollowingProgress} />\r\n            </>\r\n    }\r\n}\r\n\r\n\r\n/*\r\nlet mapStatetoProps = (state) => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress,\r\n    }\r\n}\r\n*/\r\n\r\n\r\nlet mapStatetoProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalItemsCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\n\r\nexport default compose(connect(mapStatetoProps, { follow, unfollow, setCurrentPage,\r\n    toggleFollowingProgress, requestUsers })\r\n    )(UsersAPIComponent)\r\n/* let mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        follow: (userId) => {\r\n            dispatch(followAC(userId));\r\n        },\r\n        unfollow: (userId) => {\r\n            dispatch(unfollowAC(userId));\r\n        },\r\n        setUsers: (users) => {\r\n            dispatch(setUsersAC(users));\r\n        },\r\n        setCurrentPage: (currentPage) => {\r\n            dispatch(setCurrentPageAC(currentPage));\r\n        },\r\n        setTotalUsersCount: (totalUsersCount) => {\r\n            dispatch(setTotalUsersCountAC(totalUsersCount));\r\n        },\r\n        toggleIsFetching: (isFetching) => {\r\n            dispatch(toggleIsFetchingAC(isFetching));\r\n        }\r\n    }\r\n}\r\n*/\r\n//let withRedirect = withAuthRedirect(UsersContainer);\r\n\r\n\r\n// export default withAuthRedirect(connect(mapStatetoProps, { follow, unfollow, setCurrentPage,\r\n//     toggleFollowingProgress, getUsers })(UsersAPIComponent));\r\n//     // connect автоматически оборачивает объект диспатчами","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Input, сreateField } from '../common/FormsControls/FormsControls';\r\nimport { required } from '../../utils/validator/validators';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport classes from \"../common/FormsControls/FormControls.module.css\";\r\nimport styles from \"./Login.module.css\";\r\n\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        {сreateField(\"Email\", \"email\", [required], Input)}\r\n        {сreateField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\r\n        {сreateField(null, \"rememberMe\", null, Input, {type: \"checkbox\"}, \"remember me\")}\r\n        { error && <div className={classes.formSummaryError}>\r\n            {error}\r\n            </div>\r\n        }\r\n        {captchaUrl && <img src={captchaUrl} />}\r\n        {captchaUrl && \r\n        сreateField(\"Symbols from image\", \"captcha\", [required], Input)\r\n            }\r\n        <div>\r\n            <button className={styles.loginBtn}>Login</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return <div className={styles.loginBlock}>\r\n        <div className={styles.login}>Login</div>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(Login);","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nlet SET_INITIALIZED_SUCCESS = 'SET-INITIALIZED-SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    globalError: \"\" // диспатчить в стор и потом выводить, урок 99\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({ type: SET_INITIALIZED_SUCCESS })\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    promise.then(() => {\r\n        dispatch(initializedSuccess());\r\n    });\r\n    // Promise.all([promise]).then(...)\r\n}\r\n//export const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching  })\r\n\r\nexport default appReducer;","\r\nlet initialState = {\r\n        friendsData: [\r\n            { id: 1, name: 'Andrey' },\r\n            { id: 2, name: 'Dimas' },\r\n            { id: 3, name: 'Vika' }\r\n        ]\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    \r\n    return state;\r\n}\r\nexport default sidebarReducer;","import {createStore, applyMiddleware, compose} from \"redux\"\r\nimport { combineReducers } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n}); // можно записывать без повторов\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n  ));\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\nexport const withSuspence = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader />}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    };\r\n}","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile } from '../../redux/profile-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport SettingsProfile from './Settings';\r\nimport ProfileContainer from '../Profile/ProfileContainer';\r\nimport {withProfile} from '../../hoc/withProfile';\r\n\r\nlet mapStatetoProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nlet Settings = withProfile(SettingsProfile, true);\r\n\r\nexport default compose(connect(mapStatetoProps, { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile }),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(Settings)\r\n","import React from 'react';\nimport { Route, HashRouter, withRouter, Redirect, Switch } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { Provider } from \"react-redux\";\nimport './App.css';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Navbar from './components/Navbar/Navbar';\nimport News from './components/News/News';\nimport Settings from './components/Settings/Settings';\nimport Music from './components/Music/Music';\nimport UsersContainer from './components/Users/UsersContainer';\nimport LoginPage from './components/Login/Login';\nimport { initializeApp } from '../src/redux/app-reducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport store from './redux/redux-store';\nimport { withSuspence } from './hoc/withSuspence';\nimport SettingsContainer from './components/Settings/SettingsContainer';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\n\nclass App extends React.Component {\n  catchAllUnhandledErrors = (reason, promise) => {\n    alert(\"Some error occured\");\n  }\n  componentDidMount() {\n    this.props.initializeApp();\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n  }\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n    debugger;\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <Navbar />\n        <div className='app-wrapper-content'>\n          <Switch>\n            <Route path='/profile/:userId?' render={withSuspence(ProfileContainer)} />\n            <Route path='/dialogs' render={withSuspence(DialogsContainer)} />\n            <Route path='/users' render={() => <UsersContainer />} />\n            <Route path='/settings' render={() => <SettingsContainer />} />\n            <Route path='/login' render={() => <LoginPage />} /> \n            <Redirect from=\"/\" to=\"/profile\" />\n          </Switch>\n        </div>\n      </div>);\n  }\n}\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\n\nlet AppContainer = compose(withRouter,\n  connect(mapStateToProps, { initializeApp }))(App);\n\n\nconst JSApp = (props) => {\n  return <HashRouter>\n    <Provider store={store}>\n      <AppContainer />\n    </Provider>\n  </HashRouter>\n}\n\nexport default JSApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport JSApp from './App';\n\n\nReactDOM.render(\n  <JSApp />, document.getElementById('root')\n);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\r\nimport classes from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={classes.item}>\r\n            <img src='https://img11.postila.ru/data/93/15/78/2e/9315782e8dd1e893912b554d79d2938783355ac0fa91f67db331452b95fd1196.jpg' />\r\n            <div className={classes.itemInner}>\r\n                <div className={classes.message}> {props.message}</div>\r\n                <div className={classes.date}>{props.date}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport classes from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required, maxLengthCreator} from '../../../utils/validator/validators';\r\nimport { Textarea } from '../../common/FormsControls/FormsControls';\r\n\r\nlet maxLength10 = maxLengthCreator(10);\r\n\r\nconst MyPosts = React.memo((props) => {\r\n    let postsElements = props.profilePage.postData.map(p => <Post key={p.id} message={p.message} date={p.date} />)\r\n    let addPost = (values) => {\r\n        let date = (new Date()).toLocaleDateString('ru-RU');\r\n        debugger;\r\n        props.addPost(values.newPost, date);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.postsBlock}>\r\n            <AddPostFormRedux onSubmit={addPost} />\r\n            <div className={classes.posts}>\r\n                {postsElements}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n})\r\n\r\nconst AddPostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div className={classes.profileForm}>\r\n                <div>\r\n                    <Field component={Textarea} name=\"newPost\" placeholder=\"Enter your post\"\r\n                    validate={ [required, maxLength10]} />\r\n                </div>\r\n                <div>\r\n                    <button className={classes.addBtn}>Add post</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddPostFormRedux = reduxForm({form: \"profileAddPostForm\"})(AddPostForm);\r\n\r\nexport default MyPosts;","import React, { useState } from 'react';\r\nimport classes from './ProfileInfo.module.css'\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\nimport userPhoto from '../../../assets/images/no_avatar.png';\r\nimport ProfileDataForm from '../../Settings/ProfileDataForm';\r\n\r\nconst ProfileInfo = ({ profile, status, updateStatus, isOwner, savePhoto, saveProfile }) => {\r\n    const onPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0]);\r\n        }\r\n    }\r\n    if (!profile) {\r\n        return <Preloader />\r\n    }\r\n    return (\r\n        <div className={classes.profileBLock}>\r\n            <div className={classes.profileInner}>\r\n                <img src={profile.photos.large || userPhoto} />\r\n                <div className={classes.statusDescription}>\r\n                    <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\r\n                </div>\r\n            </div>\r\n            <ProfileData profile={profile} isOwner={isOwner} />\r\n        </div>\r\n    );\r\n}\r\n\r\nconst ProfileData = ({ profile, isOwner }) => {\r\n    return <div className={classes.info}>\r\n        <div><span>Full name: </span> {profile.fullName} </div>\r\n        <div><span>Looking for a job: </span> {profile.lookingForAJob ? \"yes\" : \"no\"}</div>\r\n        <div><span>About me: </span> {profile.aboutMe}</div>\r\n        {profile.lookingForAJob &&\r\n            <div><span>My professional skills: </span> {profile.lookingForAJobDescription}</div>\r\n        }\r\n        <div className={classes.contacts}>Contacts</div> {Object.keys(profile.contacts).map(key => {\r\n            return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]} />\r\n        })}\r\n    </div>\r\n}\r\n\r\nconst Contact = ({ contactTitle, contactValue }) => {\r\n    return <div> <span>{contactTitle}:</span> {contactValue}</div>\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport { addPostActionCreator, updateNewPostTextActionCreator } from \"../../../redux/profile-reducer\";\r\nimport MyPosts from './MyPosts';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return { profilePage: state.profilePage }\r\n}\r\n\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost : (newPost, date) => {\r\n            dispatch(addPostActionCreator(newPost, date));\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps,mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n\r\n","import React from 'react';\r\nimport classes from './Profile.module.css'\r\nimport MyPosts from './MyPosts/MyPosts';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n\r\nconst Profile = (props) => {\r\n\r\n  return (\r\n    <div>\r\n      <ProfileInfo isOwner={props.isOwner} profile ={props.profile} status={props.status}\r\n                 updateStatus={props.updateStatus}\r\n                 savePhoto={props.savePhoto}\r\n                 saveProfile={props.saveProfile} />\r\n      {props.isOwner && <MyPostsContainer />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile } from '../../redux/profile-reducer';\r\nimport {Redirect} from 'react-router-dom';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { withProfile } from '../../hoc/withProfile';\r\n\r\nlet mapStatetoProps = (state) => ( {\r\n     profile: state.profilePage.profile,\r\n     status: state.profilePage.status,\r\n     authUserId: state.auth.userId,\r\n     isAuth: state.auth.isAuth\r\n} )\r\n\r\nlet ProfileContainer = withProfile(Profile, false);\r\n\r\nexport default compose(connect(mapStatetoProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n         withRouter,\r\n         withAuthRedirect\r\n)(ProfileContainer)\r\n\r\n// let AuthRedirectComponent = withAuthRedirect(ProfileContainer);\r\n\r\n// \r\n\r\n// let WithUrlDataContainerComponent = withRouter(AuthRedirectComponent);\r\n\r\n// export default connect(mapStatetoProps, {getUserProfile})(WithUrlDataContainerComponent);","import React from 'react';\r\nimport preloader from '../../../assets/images/Eclipse.svg'\r\n\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div style = { {backgroundColor: 'white'} }>\r\n            <img src={preloader} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Preloader;","\r\n\r\nexport const required = value => {\r\n    if(value) return undefined;\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\n","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__1y-Im\",\"error\":\"FormControls_error__pgASM\",\"formSummaryError\":\"FormControls_formSummaryError__1Msad\",\"field\":\"FormControls_field__1kf-d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1I_bE\",\"loginBlock\":\"Header_loginBlock__2pLyv\",\"name\":\"Header_name__1QvrL\",\"loginBtn\":\"Header_loginBtn__1xqvH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__FpwbA\",\"btn\":\"Paginator_btn__4hx5L\",\"selectedPage\":\"Paginator_selectedPage__2k9cN\",\"pageNumber\":\"Paginator_pageNumber__3j8uO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileBLock\":\"ProfileInfo_profileBLock__1YfCH\",\"profileInner\":\"ProfileInfo_profileInner__hKk-r\",\"statusDescription\":\"ProfileInfo_statusDescription__1luGq\",\"info\":\"ProfileInfo_info__25e2w\",\"contacts\":\"ProfileInfo_contacts__1oSC5\"};","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nlet mapStatetoPropsRedirect = (state) => ( {\r\n    isAuth: state.auth.isAuth\r\n  } )\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStatetoPropsRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__1uobG\",\"posts\":\"MyPosts_posts__2LXxW\",\"profileForm\":\"MyPosts_profileForm__3PvYl\",\"addBtn\":\"MyPosts_addBtn__3GHps\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__SvOfr\",\"itemInner\":\"Post_itemInner__N0gAZ\",\"message\":\"Post_message__26Li-\",\"date\":\"Post_date__2wqAc\"};","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile } from '../redux/profile-reducer';\r\nimport { withAuthRedirect } from './withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nexport const withProfile = (WrappedComponent, isSetting) => {\r\n  return class extends React.Component {\r\n    refreshProfile() {\r\n      debugger;\r\n      let userId = this.props.match.params.userId;\r\n      if (!userId || isSetting) {\r\n        userId = this.props.authUserId;\r\n        if (!userId) {\r\n          this.props.history.push(\"/login\");\r\n        }\r\n      }\r\n      this.props.getUserProfile(userId);\r\n      this.props.getStatus(userId);\r\n    }\r\n    componentDidMount() {\r\n      this.refreshProfile();\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n      debugger;\r\n      if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n        this.refreshProfile();\r\n      }\r\n    }\r\n\r\n    render() {\r\n      debugger;\r\n      if (!this.props.isAuth) return <Redirect to='/login' />;\r\n      return (\r\n        <div>\r\n          <WrappedComponent {...this.props}\r\n            isOwner={!this.props.match.params.userId}\r\n            profile={this.props.profile} status={this.props.status}\r\n            updateStatus={this.props.updateStatus}\r\n            savePhoto={this.props.savePhoto}\r\n            saveProfile={this.props.saveProfile} />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginBlock\":\"Login_loginBlock__2_taz\",\"login\":\"Login_login__3toQz\",\"loginBtn\":\"Login_loginBtn__MqP6f\"};"],"sourceRoot":""}